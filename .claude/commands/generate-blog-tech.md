技術記事（Tech記事）を生成します。対話形式で情報を引き出し、あなたの文体で記事を作成します。

この記事は Zenn の `type: "tech"` として生成されます。技術的な実装、設定、トラブルシューティング、ツール紹介など、実践的な技術情報に適しています。

## ステップ1: トピックの確認

まず、何について書きたいかを聞いてください。

「どんな技術記事を書きますか？」

## ステップ2: 公開先の確認

記事の公開先を確認してください。これにより文体が変わります。

「この記事は組織（GLOBIS）で公開しますか？それとも個人で公開しますか？」

- **組織（GLOBIS）で公開**: `publication_name: "globis"` を使用、**ですます調** で記事を書く
- **個人で公開**: `publication_name` なし、**である調** で記事を書く

## ステップ3: 自由対話で情報収集

ユーザーの回答に応じて、自然な対話を通じて情報を引き出してください。

### 対話のポイント

- **柔軟に**: 質問リストに縛られず、ユーザーの話に応じて適切な質問を投げかける
- **掘り下げる**: 面白そうな点や具体性が欲しい部分は追加質問する
- **自然に**: インタビューというより雑談のように、気軽に聞く

### 引き出したい情報（参考）

必ずしもすべて聞く必要はありません。ユーザーが話したいことを優先してください。

- なぜその技術・ツールを使おうと思ったのか
- どんな課題があったのか
- どうやって解決したのか（具体的な手順）
- うまくいったこと、いかなかったこと
- コードや設定の例
- 使ってみた感想（率直に）
- よくわからなかった点、腑に落ちない点
- 参考にしたリンクやドキュメント
- どんな失敗やハマりポイントがあったか（具体的に）
- 実際にやってみて意外だったこと、驚いたこと
- 他の選択肢と比較して悩んだポイント
- 関連する余談やエピソード（ちょっとした脱線も歓迎）

### 対話のヒント

- 「それ、もう少し詳しく教えてください」
- 「どういうところが良かったですか？」
- 「何かハマった点はありましたか？」
- 「コマンドとか実際に打ったものはありますか？」
- 「使ってみてどうでした？」

## ステップ4: Few-shot Exampleの読み込み

対話が一段落したら、`/articles/` ディレクトリから参考記事を2件選んでください。

### 選定方法

1. Grepツールで `type: "tech"` を持つ記事を検索
2. 以下のようなトピックを持つ記事を優先的に選択：
   - 該当する技術スタック（AWS、Datadog、Terraformなど）
   - 類似した記事タイプ（実装記事、トラブルシューティングなど）
3. 最新の2件、または内容が近いものを選択
4. Readツールで全文を読み込む

参考記事例: `aws_notification_with_zapier.md`, `datadog_agent_gce_metadata.md`

## ステップ5: 記事の生成

収集した情報とfew-shot exampleを基に記事を生成してください。

### 文体の特徴

**公開先によって文体が変わります：**

#### 組織（GLOBIS）で公開する場合（ですます調）

- **一人称**: 基本的に使わない。使う場合は「筆者」のみ
- **文体**: ですます調（「〜です」「〜ます」「〜でした」）で、柔らかい表現を多用
  - 「～していました」「～だったのです」「～なのです」などのソフトな断定
  - 「～ようです」「～そうです」「～かもしれません」などの推測表現も自然に使用
  - 断定的すぎない柔らかい表現を心がける
  - 例: "GCEのVMメタデータやタグ情報をうまく取得できていないということのようです"
  - 例: "安全側に倒されたデフォルト値という感じですね"
- **トーン**: 技術的かつ実践的だが、親しみやすく読みやすい

#### 個人で公開する場合（である調）

- **一人称**: 基本的に使わない。使う場合は「筆者」のみ
- **文体**: である調（「〜だ」「〜である」）で、柔らかい表現を多用
  - 「～していた」「～だったのだ」「～だったりする」などのソフトな断定
  - 「～ようだ」「～そうだ」「～かもしれない」などの推測表現も自然に使用
  - 断定的すぎない柔らかい表現を心がける
- **トーン**: 技術的かつ実践的だが、親しみやすく読みやすい

#### 共通事項

- **構成**: 自由（導入 → 本題 → まとめが基本だが、トピックに応じて変える）
- **見出し**: `##` を使用。全て日本語で、カジュアルで親しみやすい表現
  - 例: 「～してみた」「～の話」「～について」「～なのか」
  - ユーモアのある見出しも許容される

### 記述の特徴（few-shot exampleから学ぶ）

- 試行錯誤のプロセスを含める
- 率直な感想（「嬉しい」「助かる」「腑に落ちない」）
- 失敗談も隠さず書く
- 専門用語は使うが、わかりやすく説明
- リンクを適切に挿入
- コード例は必ずシンタックスハイライト対応

### Zenn特有の機能の活用

- **メッセージブロック**: 補足説明や注意事項には `:::message` ブロックを活用
  ```
  :::message
  この記事で取り上げるのは...という範囲内の内容です。
  :::
  ```
- **画像**: 画像は `/images/` 配下に配置し、Markdown形式で参照
  - 画像には説明文を必ず付ける
  ```
  ![説明文](/images/ファイル名.png)
  *キャプション（オプション）*
  ```
- **コードブロック**: シンタックスハイライト対応（既存通り）

### 【重要】人間らしい文章を書くためのルール

#### 文体の注意点
- **段落の長さに適度なバラツキを持たせる**: 原則的には段落にある程度の長さを持たせる。1行だけの段落は使いすぎない
- **文体を統一する**:
  - 組織公開（ですます調）の場合：「です」「ます」で統一し、「だ」「である」を混ぜない
  - 個人公開（である調）の場合：「だ」「である」で統一し、「です」「ます」を混ぜない
  - いずれの場合も「〜じゃないですか」「〜なんだけど」「〜なんですよね」などの砕けすぎた口語調は混ぜない
- **推測・感想表現を自然に使う**: 事実や技術的内容は断定すべきだが、個人的な感想や評価では推測表現を自然に使う。ただし「〜だと思う」より「〜だと考えている」「〜と感じている」など書き言葉的な表現を優先。推測表現を無理に使おうとしない
- **書き言葉の範囲で口語的表現を使う**: 「〜という話」「〜みたいな」「〜ぐらい」「〜とか」「〜だったり」は使ってもよいが、「これ、〜」「〜じゃん」などの砕けすぎた表現は避ける
- **脱線や余談を入れる**: 「ちなみに」「余談だが」「そういえば」で話を脱線させる
- **文末表現を多様化**:
  - 組織公開（ですます調）の場合：「です」「ます」「でした」「ました」に加え、「～だったのです」「～なのです」「～ようです」「～そうです」「～かもしれません」など、柔らかい表現を使う
  - 個人公開（である調）の場合：「である」「だ」「のだ」「だろう」に加え、「～だったのだ」「～だったりする」「～ようだ」「～そうだ」「～かもしれない」など、柔らかい表現を使う
  - 同じ表現を3回以上連続させない。ただし事実は断定的に書く
- **断定しすぎないバランス**: 技術的な事実は断定的に書くが、推測や感想の部分では「～かもしれません」「～でしょう」などの推測表現を自然に使う。ただし推測表現を過度に使いすぎて優柔不断な印象にならないよう注意
- **曖昧な表現を自然に使う**: 個人的な感想や程度を表す際に「結構」「わりと」「だいぶ」「そこそこ」などを使う

#### 構成の注意点
- **完璧な構成を避ける**: 序論→本論→結論という教科書的な構成にしない
- **見出しは全て日本語**: 英語見出し（Conclusion、Introduction、Summary等）は絶対に使わない
- **カジュアルな見出し**: 「〜の話」「〜してみた」「〜だろうか？」「〜について」「〜なのか」
- **話を前後させる**: 時々「そういえば」で前の話題に戻ったり、順序が前後してもOK
- **自然な流れを優先**: すべてのセクションを綺麗に埋める必要はない

### 記事の多様性を意識

- テンプレート的にならないよう、トピックに応じて構成を変える
- ユーザーが話した内容の順序や強調点を活かす
- 「導入 → 手順 → まとめ」だけでなく、「課題 → 調査 → 実装 → 評価」「失敗談から始める」「結論から書く」など様々な構成を試す
- **重要**: 上記の「人間らしい文章を書くためのルール」を必ず守る。AI特有の整った文章にならないよう注意

### フロントマター

記事の冒頭に必ず含めてください。**公開先によってフォーマットが変わります：**

#### 組織（GLOBIS）で公開する場合

```yaml
---
title: "キャッチーな記事タイトル"
emoji: "🔔"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["tag1", "tag2", "tag3"]
published: true
publication_name: "globis"
---
```

#### 個人で公開する場合

```yaml
---
title: "キャッチーな記事タイトル"
emoji: "🔔"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["tag1", "tag2", "tag3"]
published: true
---
```

#### フィールドの説明

- `title`: 記事のタイトル（50文字以内推奨）
- `emoji`: 記事を表現する絵文字を1つ選ぶ（記事の雰囲気に合わせる）
- `type`: 記事種別（この記事は `"tech"` を使用）
  - `"tech"`: 技術的な実装、設定、トラブルシューティング、ツール紹介など
  - `"idea"`: 考察、エッセイ、読書感想、キャリアに関する考えなど
- `topics`: 関連するトピック3-5個（小文字推奨、記事の発見性を高める）
- `published`: 公開状態（`true` で公開、`false` で下書き）
- `publication_name`: 公開先組織名（組織公開の場合のみ `"globis"` を指定）

## ステップ6: 下書きの提示

生成した記事をユーザーに提示し、確認・修正してもらってください。

「こんな感じでどうでしょうか？ 修正したい箇所があれば教えてください。」

## ステップ7: ファイル名の決定

ユーザーにファイル名を確認してください。提案する場合は以下のルールで生成：

- 記事の内容を端的に表す英語のスネークケース
- 技術キーワードや重要な概念を含めることを推奨（検索性向上のため）
- 日本語から英語へ翻訳する際は、意訳でもよい
- 小文字化、記号除去、スペースをアンダースコアに
- 50文字以内
- 例: "AWS Healthからの通知をAIに要約" → `aws_notification_with_zapier.md`
- 例: "Claude Code is All You Need" → `claude_code_is_all_you_need.md`
- 例: "Datadog Agent on GCE" → `datadog_agent_gce_metadata.md`

## ステップ8: 保存

承認されたら `/articles/{ファイル名}.md` に保存してください。

### 保存時の確認

- 既存ファイルと重複する場合は上書き確認
- Writeツールを使用

### 完了報告

「記事を /articles/xxx.md に保存しました。」

---

**重要**: このコマンドは対話を重視します。ユーザーとの自然なやり取りを通じて、毎回異なる構成の記事を生成することを目指してください。
